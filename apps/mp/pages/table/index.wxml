<view class="container">
  
  <!-- 1. é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="header-bar">
    <view class="store-name">é‡åº†åº—-å°–ç‰™tusk ></view>
    <view class="rule-btn">é¢„çº¦è§„åˆ™ä¸ç‰Œæ¡Œç¤¼ä»ª</view>
  </view>

  <!-- 2. ä¸»èµ›äº‹æ¡ŒåŒºåŸŸ -->
  <view class="table-section">
    <!-- æ ‡é¢˜è¡Œ -->
    <view class="section-header">
      <view class="title-group">
        <text class="main-title">{{mainTable.name}}</text>
        <text class="update-time">æ›´æ–°æ—¶é—´ {{mainTable.updateTime}}</text>
      </view>
      <view class="status-badge">
        <view class="status-dot"></view>
        <text>{{mainTable.status}}</text>
      </view>
    </view>

    <!-- ä¿¡æ¯å¡ç‰‡ -->
    <view class="info-card">
      <view class="info-item">
        <image class="info-icon" src="/images/æ¡Œé¢å›¾æ ‡.png" /> <!-- æš‚æ—¶ç”¨è¿™ä¸ªå›¾æ ‡ä»£æ›¿ç­¹ç  -->
        <view class="info-text">
          <text class="label">åŸºç¡€ç§¯åˆ†</text>
          <text class="value">{{mainTable.score}}</text>
        </view>
      </view>
      <view class="divider"></view>
      <view class="info-item">
        <image class="info-icon" src="/images/ä¼šå‘˜å›¾æ ‡.png" /> <!-- æš‚æ—¶ç”¨è¿™ä¸ªå›¾æ ‡ä»£æ›¿äººåƒ -->
        <view class="info-text">
          <text class="label">åº§ä½</text>
          <text class="value">{{mainTable.occupied}}/{{mainTable.total}}</text>
        </view>
      </view>
    </view>

    <!-- ç‰Œæ¡Œè§†å›¾ (æ ¸å¿ƒ) -->
    <view class="poker-table-container">
      <image class="table-bg" src="/images/åœ†æ¡ŒèƒŒæ™¯2.png" mode="widthFix" />
      
      <!-- 9ä¸ªåº§ä½ -->
      <block wx:for="{{seats}}" wx:key="id">
        <view class="seat seat-{{item.seatNum}} {{item.status}}">
          
          <!-- åº§ä½å·æ ‡è®° -->
          <view class="seat-number">{{item.seatNum}}</view>

          <!-- ç©ºé—²çŠ¶æ€ -->
          <block wx:if="{{item.status === 'empty'}}">
            <view class="chair-icon">ğŸª‘</view>
            <text class="seat-label">ç©ºåº§ä½</text>
          </block>

          <!-- å·²é¢„çº¦/æ¸¸æˆä¸­ -->
          <block wx:else>
            <image class="avatar" src="{{item.avatar}}" />
            <text class="nickname">{{item.name}}</text>
            <view class="status-tag {{item.status === 'playing' ? 'playing-tag' : 'reserved-tag'}}">
              {{item.status === 'playing' ? 'æ¸¸æˆä¸­' : 'å·²é¢„çº¦'}}
            </view>
          </block>

        </view>
      </block>
    </view>
  </view>

  <!-- 3. å‰¯èµ›äº‹æ¡ŒåŒºåŸŸ -->
  <view class="table-section sub-section">
    <view class="section-header">
      <view class="title-group">
        <text class="main-title">{{subTable.name}}</text>
        <text class="update-time">æ›´æ–°æ—¶é—´ {{subTable.updateTime}}</text>
      </view>
      <view class="status-badge">
        <view class="status-dot"></view>
        <text>{{subTable.status}}</text>
      </view>
    </view>

    <!-- ä¿¡æ¯å¡ç‰‡ (å‰¯æ¡Œ) -->
    <view class="info-card">
      <view class="info-item">
        <image class="info-icon" src="/images/æ¡Œé¢å›¾æ ‡.png" />
        <view class="info-text">
          <text class="label">åŸºç¡€ç§¯åˆ†</text>
          <text class="value">{{subTable.score}}</text>
        </view>
      </view>
      <view class="divider"></view>
      <view class="info-item">
        <image class="info-icon" src="/images/ä¼šå‘˜å›¾æ ‡.png" />
        <view class="info-text">
          <text class="label">åº§ä½</text>
          <text class="value">{{subTable.occupied}}/{{subTable.total}}</text>
        </view>
      </view>
    </view>

    <!-- ç‰Œæ¡Œè§†å›¾ (å‰¯æ¡Œ) -->
    <view class="poker-table-container">
      <image class="table-bg" src="/images/åœ†æ¡ŒèƒŒæ™¯2.png" mode="widthFix" />
      
      <!-- 9ä¸ªåº§ä½ (å‰¯æ¡Œ) -->
      <block wx:for="{{subSeats}}" wx:key="id">
        <view class="seat seat-{{item.seatNum}} {{item.status}}">
          
          <!-- åº§ä½å·æ ‡è®° -->
          <view class="seat-number">{{item.seatNum}}</view>

          <!-- ç©ºé—²çŠ¶æ€ -->
          <block wx:if="{{item.status === 'empty'}}">
            <view class="chair-icon">ğŸª‘</view>
            <text class="seat-label">ç©ºåº§ä½</text>
          </block>

          <!-- å·²é¢„çº¦/æ¸¸æˆä¸­ -->
          <block wx:else>
            <image class="avatar" src="{{item.avatar}}" />
            <text class="nickname">{{item.name}}</text>
            <view class="status-tag {{item.status === 'playing' ? 'playing-tag' : 'reserved-tag'}}">
              {{item.status === 'playing' ? 'æ¸¸æˆä¸­' : 'å·²é¢„çº¦'}}
            </view>
          </block>

        </view>
      </block>
    </view>

    <!-- åº•éƒ¨å€™æ¡Œæ  -->
    <view class="waiting-bar">
      <view class="avatar-list">
        <block wx:for="{{waitingList}}" wx:key="*this">
          <image class="waiting-avatar" src="{{item}}" />
        </block>
      </view>
      <view class="wait-btn">å€™æ¡Œ</view>
    </view>
  </view>

  <!-- åº•éƒ¨å¯¼èˆªæ  -->
  <tab-bar selected="1"></tab-bar>

</view>
