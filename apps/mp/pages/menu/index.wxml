<view class="container">
  
  <!-- 头部区域 -->
  <view class="header-bar">
    <text class="store-name">重庆店-尖牙tusk ></text>
  </view>

  <!-- 内容区域 -->
  <view class="content-container">
    
    <!-- 左侧分类侧边栏 -->
    <scroll-view scroll-y class="sidebar">
      <block wx:for="{{categories}}" wx:key="id">
        <view class="category-item {{currentCategory === index ? 'active' : ''}}" bindtap="switchCategory" data-index="{{index}}">
          {{item.name}}
        </view>
      </block>
    </scroll-view>

    <!-- 右侧商品列表 -->
    <scroll-view scroll-y class="goods-list">
      <block wx:for="{{goodsList}}" wx:key="id">
        <view class="goods-item">
          <image class="goods-image" src="{{item.image}}" mode="aspectFill" />
          <view class="goods-info">
            <text class="goods-name">{{item.name}}</text>
            <text class="goods-desc">{{item.desc}}</text>
            <view class="price-row">
              <text class="goods-price">¥ {{item.price}}</text>
              <view class="add-btn" bindtap="addToCart" data-id="{{item.id}}">+</view>
            </view>
          </view>
        </view>
      </block>
    </scroll-view>

  </view>

  <!-- 购物车底部栏 -->
  <view class="cart-bar">
    <view class="cart-info" bindtap="toggleCart">
      <view class="cart-icon-wrapper">
        <image class="cart-icon" src="/images/购物车.png" />
        <view class="cart-badge" wx:if="{{cartCount > 0}}">{{cartCount}}</view>
      </view>
      <view class="cart-price">
        <text class="price-symbol">¥</text>
        <text class="price-value">{{cartAmount}}</text>
      </view>
    </view>
    <view class="checkout-btn {{cartCount > 0 ? 'active' : ''}}" bindtap="checkout">
      去结算
    </view>
  </view>

  <!-- 购物车详情弹窗 -->
  <view class="cart-detail {{showCart ? 'show' : ''}}" catchtap="hideCart">
    <view class="cart-content" catchtap="stopPropagation">
      <view class="cart-header">
        <text>购物车</text>
        <text class="clear-cart" bindtap="clearCart">清空</text>
      </view>
      <scroll-view scroll-y class="cart-list">
        <block wx:for="{{cartItems}}" wx:key="id">
          <view class="cart-item">
            <view class="item-info">
              <text class="item-name">{{item.name}}</text>
              <text class="item-price">¥{{item.price}}</text>
            </view>
            <view class="item-controls">
              <view class="control-btn" bindtap="decreaseCart" data-id="{{item.id}}">-</view>
              <text class="item-count">{{item.count}}</text>
              <view class="control-btn" bindtap="increaseCart" data-id="{{item.id}}">+</view>
            </view>
          </view>
        </block>
      </scroll-view>
    </view>
  </view>

</view>
