<view class="container">
  
  <!-- 1. æ©™è‰²å¤´éƒ¨åŒºåŸŸ -->
  <view class="header-section">
    <view class="store-label">é‡åº†åº— ></view>
    <view class="page-title">æ’è¡Œæ¦œ</view>
    <view class="date-range">{{dateRange}}</view>

    <!-- Tab æ  -->
    <view class="tab-header">
      <view class="tab-item {{currentTab === 0 ? 'active' : ''}}" bindtap="switchRankingTab" data-index="0">
        åŠæœˆæ¦œ
        <view class="tab-indicator" wx:if="{{currentTab === 0}}"></view>
      </view>
      <view class="tab-item {{currentTab === 1 ? 'active' : ''}}" bindtap="switchRankingTab" data-index="1">
        å¹´æ¦œ
        <view class="tab-indicator" wx:if="{{currentTab === 1}}"></view>
      </view>
      <view class="tab-item {{currentTab === 2 ? 'active' : ''}}" bindtap="switchRankingTab" data-index="2">
        å† å†›æ¦œ
        <view class="tab-indicator" wx:if="{{currentTab === 2}}"></view>
      </view>
    </view>
  </view>

  <!-- 2. æ’è¡Œæ¦œåˆ—è¡¨åŒºåŸŸ -->
  <view class="ranking-list-container">
    <!-- LoadingçŠ¶æ€ -->
    <view class="loading-container" wx:if="{{loading}}">
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>

    <!-- ç©ºæ•°æ®æç¤º -->
    <view class="empty-container" wx:elif="{{isEmpty}}">
      <text class="empty-icon">ğŸ“Š</text>
      <text class="empty-text">æš‚æ— æ’è¡Œæ¦œæ•°æ®</text>
      <text class="empty-hint">å¿«å»èµ¢å–ç§¯åˆ†ï¼Œç™»ä¸Šæ¦œé¦–å§ï¼</text>
    </view>

    <!-- æ’è¡Œæ¦œåˆ—è¡¨ -->
    <block wx:else>
      <block wx:for="{{rankingList}}" wx:key="rank">
        <view class="ranking-item">
          <!-- æ’å -->
          <view class="rank-num rank-{{item.rank <= 3 ? item.rank : 'normal'}}">
            {{item.rank}}
          </view>
          
          <!-- å¤´åƒ -->
          <image class="rank-avatar" src="{{item.avatar}}" />
          
          <!-- ä¿¡æ¯ -->
          <view class="rank-info">
            <text class="rank-name">{{item.name}}</text>
            <text class="rank-score">{{item.score}}ç§¯åˆ†</text>
          </view>
        </view>
      </block>
    </block>
  </view>

  <!-- 3. å½“å‰ç”¨æˆ·æ’åå¡ç‰‡ (åº•éƒ¨å›ºå®š) -->
  <view class="user-rank-card" wx:if="{{currentUserRank}}">
    <view class="user-rank-content">
      <view class="user-rank-label">æˆ‘çš„æ’å</view>
      <view class="user-rank-info">
        <image class="user-avatar" src="{{currentUserRank.avatar}}" />
        <view class="user-details">
          <text class="user-name">{{currentUserRank.name}}</text>
          <text class="user-score">{{currentUserRank.score}}ç§¯åˆ†</text>
        </view>
        <view class="user-rank-badge">
          <text class="rank-text">{{currentUserRank.rank}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨å¯¼èˆªæ  -->
  <tab-bar selected="2"></tab-bar>

</view>