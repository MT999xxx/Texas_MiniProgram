<view class="container">
  <!-- 顶部标题 -->
  <view class="page-header">
    <view class="header-title">桌台预约</view>
    <view class="header-subtitle">提前预约，享受专属服务</view>
  </view>

  <!-- 预约表单 -->
  <view class="form-card">
    <!-- 联系人信息 -->
    <view class="section-title">
      <text class="title-icon">👤</text>
      <text>联系人信息</text>
    </view>

    <view class="form-item">
      <view class="form-label">
        <text class="required">*</text>
        <text>联系人</text>
      </view>
      <input
        class="form-input"
        placeholder="请输入姓名"
        bindinput="onInput"
        data-field="customerName"
        value="{{form.customerName}}"
      />
    </view>

    <view class="form-item">
      <view class="form-label">
        <text class="required">*</text>
        <text>手机号</text>
      </view>
      <input
        class="form-input"
        type="number"
        maxlength="11"
        placeholder="请输入手机号"
        bindinput="onInput"
        data-field="phone"
        value="{{form.phone}}"
      />
    </view>

    <!-- 预约信息 -->
    <view class="section-title">
      <text class="title-icon">📅</text>
      <text>预约信息</text>
    </view>

    <view class="form-item">
      <view class="form-label">
        <text>就餐人数</text>
      </view>
      <picker class="form-picker" mode="selector" range="{{partySizes}}" bindchange="onPickPartySize">
        <view class="picker-value">{{selectedPartySize || '请选择人数'}}</view>
      </picker>
    </view>

    <view class="form-item">
      <view class="form-label">
        <text class="required">*</text>
        <text>选择桌台</text>
      </view>
      <picker class="form-picker" mode="selector" range="{{tableNames}}" bindchange="onPickTable">
        <view class="picker-value">{{selectedTableName || '请选择桌台'}}</view>
      </picker>
    </view>

    <view class="form-item">
      <view class="form-label">
        <text class="required">*</text>
        <text>预约日期</text>
      </view>
      <picker class="form-picker" mode="date" start="{{today}}" bindchange="onPickDate" value="{{form.reservedDate}}">
        <view class="picker-value">{{form.reservedDate || '请选择日期'}}</view>
      </picker>
    </view>

    <view class="form-item">
      <view class="form-label">
        <text class="required">*</text>
        <text>预约时间</text>
      </view>
      <picker class="form-picker" mode="time" bindchange="onPickTime" value="{{form.reservedTime}}">
        <view class="picker-value">{{form.reservedTime || '请选择时间'}}</view>
      </picker>
    </view>

    <view class="form-item">
      <view class="form-label">
        <text>特殊要求</text>
      </view>
      <textarea
        class="form-textarea"
        placeholder="如需靠窗、安静等特殊要求请备注"
        bindinput="onInput"
        data-field="note"
        value="{{form.note}}"
        maxlength="200"
      />
    </view>

    <!-- 提示信息 -->
    <view class="tips-box">
      <text class="tips-icon">💡</text>
      <view class="tips-content">
        <text class="tips-title">温馨提示</text>
        <text class="tips-text">• 请提前30分钟到达，逾期15分钟系统将自动取消预约</text>
        <text class="tips-text">• 如需修改或取消预约，请在"我的预约"中操作</text>
      </view>
    </view>

    <!-- 操作按钮 -->
    <view class="button-group">
      <button class="btn btn-secondary" bindtap="viewMyReservations">我的预约</button>
      <button class="btn btn-primary" bindtap="submit" loading="{{loading}}">确认预约</button>
    </view>
  </view>
</view>
